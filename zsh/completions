#compdef xprofile

_xprofile() {
    local curcontext="$curcontext" state line
    typeset -A opt_args

    _arguments '1: :->subcommand'   
    
    case "$state" in
        subcommand)
            _arguments '1:Subcommands:(list current-edid auto activate create -h --help --version)'
            ;;
        *)
            case $words[2] in
                activate)
                    compadd "$@" $(_call_program path xprofile list 2> /dev/null)
                    ;;
            esac
    esac
}

_xprofile "$@"
